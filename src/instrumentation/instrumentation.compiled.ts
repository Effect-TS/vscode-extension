/* eslint-disable @effect/dprint */
export const compiledInstrumentationString = "(function(){ function t(t,e){if(e==null||e>t.length)e=t.length;for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function e(e){if(Array.isArray(e))return t(e)}function r(t,e,r){if(e in t){Object.defineProperty(t,e,{value:r,enumerable:true,configurable:true,writable:true})}else{t[e]=r}return t}function n(t){if(typeof Symbol!==\"undefined\"&&t[Symbol.iterator]!=null||t[\"@@iterator\"]!=null)return Array.from(t)}function i(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};var i=Object.keys(n);if(typeof Object.getOwnPropertySymbols===\"function\"){i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))}i.forEach(function(e){r(t,e,n[e])})}return t}function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);if(e){n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})}r.push.apply(r,n)}return r}function c(t,e){e=e!=null?e:{};if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(e))}else{o(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}function u(t){return e(t)||n(t)||s(t)||i()}function f(t){\"@swc/helpers - typeof\";return t&&typeof Symbol!==\"undefined\"&&t.constructor===Symbol?\"symbol\":typeof t}function s(e,r){if(!e)return;if(typeof e===\"string\")return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n===\"Object\"&&e.constructor)n=e.constructor.name;if(n===\"Map\"||n===\"Set\")return Array.from(n);if(n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,r)}(function(){\"use strict\";var t=\"effect/MetricState/Counter\",e=Symbol.for(t),r=\"effect/MetricState/Frequency\",n=Symbol.for(r),i=\"effect/MetricState/Gauge\",o=Symbol.for(i),s=\"effect/MetricState/Histogram\",l=Symbol.for(s),m=\"effect/MetricState/Summary\",d=Symbol.for(m);var p=function(t){return(typeof t===\"undefined\"?\"undefined\":f(t))==\"object\"&&t!==null&&e in t},y=function(t){return(typeof t===\"undefined\"?\"undefined\":f(t))==\"object\"&&t!==null&&n in t},b=function(t){return(typeof t===\"undefined\"?\"undefined\":f(t))==\"object\"&&t!==null&&o in t},g=function(t){return(typeof t===\"undefined\"?\"undefined\":f(t))==\"object\"&&t!==null&&l in t},v=function(t){return(typeof t===\"undefined\"?\"undefined\":f(t))==\"object\"&&t!==null&&d in t},S=Symbol.for(\"effect/Metric/globalMetricRegistry\");function h(){return Object.keys(globalThis).filter(function(t){return t.indexOf(\"effect/GlobalValue/globalStoreId\")>-1}).map(function(t){return globalThis[t]})}function O(t){return t._tag===\"Some\"?t.value:void 0}var j=globalThis,w=\"effect/devtools/instrumentation\",_=Math.random().toString(36).substring(2,15);function I(t,e,r){var n=Object.getOwnPropertyDescriptor(t,e);if(n&&n.set)Object.defineProperty(t,e,c(a({},n),{set:function t(t){var e;r(t),(e=n.set)===null||e===void 0?void 0:e.bind(this)(t)}}));else{var i;Object.defineProperty(t,e,{set:function t(t){i=t,r(t)},get:function t(){return i}})}}function P(){var t=[];var e=true,r=false,n=undefined;try{for(var i=h()[Symbol.iterator](),a;!(e=(a=i.next()).done);e=true){var o=a.value;var c=o.get(S);if(!c)continue;var u=c.snapshot();for(var s=0,l=u.length;s<l;s++){var m=u[s];p(m.metricState)?t.push({_tag:\"Counter\",name:m.metricKey.name,description:O(m.metricKey.description),tags:m.metricKey.tags,state:{count:f(m.metricState.count)==\"bigint\"?m.metricState.count.toString():m.metricState.count}}):b(m.metricState)?t.push({_tag:\"Gauge\",name:m.metricKey.name,description:O(m.metricKey.description),tags:m.metricKey.tags,state:{value:f(m.metricState.value)==\"bigint\"?m.metricState.value.toString():m.metricState.value}}):g(m.metricState)?t.push({_tag:\"Histogram\",name:m.metricKey.name,description:O(m.metricKey.description),tags:m.metricKey.tags,state:m.metricState}):v(m.metricState)?t.push({_tag:\"Summary\",name:m.metricKey.name,description:O(m.metricKey.description),tags:m.metricKey.tags,state:m.metricState}):y(m.metricState)&&t.push({_tag:\"Frequency\",name:m.metricKey.name,description:O(m.metricKey.description),tags:m.metricKey.tags,state:{occurrences:Object.fromEntries(m.metricState.occurrences.entries())}})}}}catch(t){r=true;n=t}finally{try{if(!e&&i.return!=null){i.return()}}finally{if(r){throw n}}}return{_tag:\"MetricsSnapshot\",metrics:t}}function T(t){return{_tag:\"ExternalSpan\",traceId:t.traceId,spanId:t.spanId,sampled:t.sampled}}function K(t){return{_tag:\"Span\",spanId:t.spanId,traceId:t.traceId,name:t.name,sampled:t.sampled,status:t.status._tag===\"Started\"?{_tag:\"Started\",startTime:String(t.status.startTime)}:{_tag:\"Ended\",startTime:String(t.status.startTime),endTime:String(t.status.endTime)},parent:t.parent._tag===\"None\"?t.parent:{_tag:\"Some\",value:A(t.parent.value)},attributes:Array.from(t.attributes.entries())}}function A(t){return t._tag===\"ExternalSpan\"?T(t):K(t)}if(!(w in globalThis)){var M=function t(t){E.indexOf(t)===-1&&(C&&F(t),E.push(t),t.addObserver(function(){var e=E.indexOf(t);e>-1&&E.splice(e,1)}))},x=function t(t){C||(C=true,E.forEach(F));var e=[];var r=true,n=false,i=undefined;try{for(var a=t[Symbol.iterator](),o;!(r=(o=a.next()).done);r=true){var c=o.value;switch(c._tag){case\"Pong\":continue;case\"MetricsRequest\":{if(e.indexOf(c._tag)!==-1)continue;e.push(c._tag),k.push(P());continue}}}}catch(t){n=true;i=t}finally{try{if(!r&&a.return!=null){a.return()}}finally{if(n){throw i}}}var u=k.splice(0),f=q.splice(0);return JSON.stringify({responses:u.concat(f),instrumentationId:_})};var C=false,E=[],D=[],F=function(t){var e=t;if(e[\"effect/instrumentation/patchedCurrentTracer\"])return;e[\"effect/instrumentation/patchedCurrentTracer\"]=true;var r=t.currentTracer;I(t,\"currentTracer\",function(t){if(!t||D.indexOf(t)!==-1)return;D.push(t);var e=t.span.bind(t);t.span=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}var i=e.apply(void 0,u(r));try{G(K(i));var a=i.event.bind(i);i.event=function(t,e,r){for(var n=arguments.length,o=new Array(n>3?n-3:0),c=3;c<n;c++){o[c-3]=arguments[c]}var f=a.apply(void 0,[t,e,r].concat(u(o)));return G({_tag:\"SpanEvent\",spanId:i.spanId,traceId:i.traceId,name:t,startTime:String(e),attributes:r||{}}),f};var o=i.end.bind(i);i.end=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++){e[r]=arguments[r]}var n=o.apply(void 0,u(e));return G(K(i)),n}}catch(t){}return i}}),e.currentTracer=r},k=[],q=[],G=function(t){q.push(t),q.length>1e3&&q.shift()};j[w]={fibers:E,debugProtocolDevtoolsClient:x};var H=j[\"effect/FiberCurrent\"];I(j,\"effect/FiberCurrent\",function(t){t&&M(t)}),j[\"effect/FiberCurrent\"]=H}})();} )()"